# 资产实例管理 - 产品需求文档（PRD）

> 本文档基于资产实例创建流程图，详细描述资产实例管理模块的功能需求、边界条件和实现要求。

---

## 一、功能目标

### 1.1 核心目标
- **快速资产实例化**：基于预定义的资产类型，快速创建具体的资产实例
- **灵活数据绑定**：支持多种数据源的动态绑定和实时数据接入
- **智能数据处理**：提供边缘侧和平台侧的数据转换、容错处理能力
- **可视化监控**：通过Dashboard实现资产实例的实时监控和状态展示

### 1.2 业务价值
- 缩短资产实例创建时间，提升部署效率
- 降低数据接入复杂度，支持异构数据源
- 提高数据处理可靠性，减少数据异常影响
- 增强可视化能力，提升运维监控体验

---

## 二、主要功能

### 2.1 资产实例创建

#### 2.1.1 实例创建流程
- **功能描述**：基于资产类型模板创建具体的资产实例
- **核心字段**：
  - 实例名称（必填）
  - 实例编码（必填，唯一）
  - 所属资产类型（必填）
  - 实例描述
  - 创建人/创建时间
  - 状态（草稿/已发布/已停用）

#### 2.1.2 实例管理功能
- 实例列表展示和搜索
- 实例状态管理和生命周期控制
- 实例复制和模板继承
- 实例删除和批量操作

### 2.2 静态属性设置

#### 2.2.1 属性配置
- **功能描述**：设置资产实例的固定属性信息
- **配置方式**：
  - 继承资产类型定义的静态属性
  - 支持属性值的个性化设置
  - 支持新增实例特有属性

#### 2.2.2 属性验证
- 必填属性验证
- 数据类型和格式验证
- 取值范围和约束检查
- 属性间关联关系验证

### 2.3 选择数据源

### 2.4 数据点位绑定

#### 2.4.1 点位映射
- **功能描述**：将数据源中的具体数据点绑定到资产实例变量
- **绑定方式**：
  - 手动选择数据点
  - 批量导入点位配置
  - 模板继承点位映射
  - 智能推荐点位匹配

#### 2.4.2 点位管理
- 点位名称和编码管理
- 数据类型和单位配置
- 采集频率和存储策略
- 点位状态监控和异常告警

### 2.5 单位换算/数据转换规则

#### 2.5.1 转换规则定义
- **功能描述**：定义数据单位换算和格式转换规则
- **转换类型**：
  - 单位换算（温度、压力、流量等）
  - 数据格式转换（二进制、十六进制等）
  - 数值范围映射和缩放
  - 数据类型转换（字符串转数值等）

#### 2.5.2 执行策略
- **边缘侧执行**：
  - 在数据采集端进行转换
  - 减少网络传输数据量
  - 降低平台计算压力
  - 支持离线数据处理

- **平台侧执行**：
  - 在平台端进行转换
  - 统一转换规则管理
  - 支持复杂计算逻辑
  - 便于规则动态调整

### 2.6 数据容错规则定义

#### 2.6.1 容错策略
- **功能描述**：定义数据异常时的处理策略
- **容错类型**：
  - 数据缺失处理（插值、保持上次值等）
  - 数据异常处理（超限、突变等）
  - 通信中断处理（重连、缓存等）
  - 数据质量评估和标记

#### 2.6.2 执行策略
- **边缘侧执行**：
  - 实时数据预处理
  - 本地缓存和重传
  - 设备状态监控
  - 离线数据处理

- **平台侧执行**：
  - 数据质量分析
  - 异常模式识别
  - 历史数据修复
  - 告警规则触发

### 2.7 流数据绑定

#### 2.7.1 流数据类型
- **功能描述**：绑定连续数据流，如视频、音频等
- **支持类型**：
  - 视频流（RTSP、RTMP、HLS等）
  - 音频流（音频采集、语音识别等）
  - 传感器流（高频振动、温度等）
  - 日志流（系统日志、操作日志等）

### 2.8 事件规则管理
- **功能描述**：从资产类型中继承事件规则，实现资产运行中的事件处理

### 2.8 资产首页
- **功能描述**：资产首页显示资产信息、属性、变量、事件、告警信息等
  

## 四、前置条件

- **资产类型**：相关资产类型已定义并发布
- **数据源**：目标数据源可访问且协议支持
- **网络环境**：边缘设备与平台网络连通
