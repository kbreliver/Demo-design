# 工厂模型管理 - 基本信息 PRD文档

## 1. 功能目标

### 1.1 基本信息管理
- 提供工厂模型实例基本信息的编辑和查看功能
- 支持静态属性的配置和管理
- 实现基本信息的数据验证和保存
- 提供基本信息的历史记录和变更追踪

### 1.2 静态属性配置
- 支持资产类型的静态属性定义和配置
- 提供属性值的实时编辑和验证
- 实现属性配置的批量操作
- 支持属性配置的导入导出功能

## 2. 功能描述

### 2.1 基本信息展示
- **工厂模型名称**：显示和编辑工厂模型实例的标识名称
- **工厂模型描述**：显示和编辑工厂模型实例的详细说明
- **来源模板**：显示基于哪个模板创建的实例（只读）
- **创建时间**：显示工厂模型实例的创建时间（只读）
- **启用状态**：显示和编辑启用或禁用状态
- **创建人**：显示创建该工厂模型实例的用户（只读）

### 2.2 静态属性配置
- **属性名称**：显示资产类型的静态属性名称
- **属性值**：支持编辑属性值，支持多种数据类型
- **数据类型**：支持字符串、数值、日期、布尔值等类型
- **必填验证**：对必填属性进行实时验证
- **默认值**：支持设置属性的默认值

### 2.3 表单验证
- **实时验证**：在用户输入时进行实时数据验证
- **提交验证**：在保存时进行完整的数据验证
- **错误提示**：提供清晰的错误信息和提示
- **验证规则**：支持自定义验证规则

## 3. 交互说明

### 3.1 页面加载
- 页面加载时自动获取工厂模型实例的基本信息
- 根据选择的资产类型加载对应的静态属性
- 初始化表单验证规则和错误状态
- 设置表单的编辑模式和只读模式

### 3.2 基本信息编辑
- 点击编辑按钮进入编辑模式
- 支持实时编辑工厂模型名称和描述
- 提供启用/禁用状态的切换
- 编辑完成后点击保存按钮提交更改

### 3.3 静态属性配置
- 根据选择的资产类型显示对应的静态属性
- 支持属性值的实时编辑和验证
- 提供属性配置的批量操作功能
- 支持属性配置的导入导出

### 3.4 数据保存
- 点击保存按钮时进行数据验证
- 验证通过后提交数据到服务器
- 保存成功后显示成功提示
- 保存失败时显示错误信息

## 4. 业务规则

### 4.1 基本信息规则
- 工厂模型名称不能为空，长度限制1-50字符
- 工厂模型描述不能为空，长度限制1-500字符
- 工厂模型名称在同一模板下不能重复
- 启用状态变更需要确认操作

### 4.2 静态属性规则
- 静态属性必须符合数据类型要求
- 必填属性不能为空
- 属性值必须符合验证规则
- 属性配置变更需要记录操作日志

### 4.3 数据验证规则
- 字符串类型：长度限制1-200字符
- 数值类型：支持整数和小数，范围限制
- 日期类型：格式为YYYY-MM-DD
- 布尔类型：true/false值

### 4.4 权限控制规则
- 基本信息编辑需要管理员权限
- 静态属性配置需要资产管理权限
- 只读字段不允许编辑
- 权限不足时显示提示信息

### 4.5 数据保存规则
- 保存前必须通过所有验证
- 保存操作需要确认
- 保存失败时保留用户输入
- 保存成功后刷新页面数据

## 5. 前置条件

### 5.1 系统前置条件
- 工厂模型实例已创建
- 资产类型已定义并配置
- 用户权限已配置
- 数据验证规则已定义

### 5.2 数据前置条件
- 工厂模型基本信息已初始化
- 静态属性定义已配置
- 用户权限已验证
- 表单验证规则已加载

### 5.3 用户前置条件
- 用户已登录系统
- 用户具有基本信息编辑权限
- 用户具有静态属性配置权限
- 用户具有数据保存权限

## 6. 字段说明

### 6.1 基本信息字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| id | String | 是 | 工厂模型实例唯一标识 | factory_1234567890 |
| name | String | 是 | 工厂模型实例名称 | 华新水泥工厂 |
| description | String | 是 | 工厂模型实例描述 | 华新水泥集团下属工厂实例 |
| templateId | String | 是 | 来源模板ID | template_1234567890 |
| templateName | String | 是 | 来源模板名称 | 水泥工厂标准模板 |
| createTime | String | 是 | 创建时间 | 2024-01-20 10:30:00 |
| createUser | String | 是 | 创建人 | admin |
| status | String | 是 | 启用状态 | enabled/disabled |
| updateTime | String | 否 | 最后更新时间 | 2024-01-20 15:30:00 |
| updateUser | String | 否 | 最后更新人 | admin |

### 6.2 静态属性字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| id | String | 是 | 属性唯一标识 | property_1234567890 |
| name | String | 是 | 属性名称 | 设备名称 |
| code | String | 是 | 属性编码 | device_name |
| type | String | 是 | 数据类型 | 字符串 |
| required | Boolean | 是 | 是否必填 | true |
| defaultValue | String | 否 | 默认值 | 默认设备 |
| description | String | 否 | 属性描述 | 设备的标识名称 |
| validation | Object | 否 | 验证规则 | {minLength: 1, maxLength: 50} |
| order | Number | 否 | 显示顺序 | 1 |

### 6.3 数据类型枚举

| 类型值 | 显示名称 | 说明 | 验证规则 |
|--------|----------|------|----------|
| 字符串 | 字符串 | 文本类型 | 长度1-200字符 |
| 数值 | 数值 | 数字类型 | 支持整数和小数 |
| 日期 | 日期 | 日期类型 | 格式YYYY-MM-DD |
| 日期时间 | 日期时间 | 日期时间类型 | 格式YYYY-MM-DD HH:mm:ss |
| 布尔值 | 布尔值 | 布尔类型 | true/false |
| 枚举 | 枚举 | 枚举类型 | 预定义选项列表 |

### 6.4 验证规则字段

| 字段名 | 类型 | 必填 | 说明 | 示例值 |
|--------|------|------|------|--------|
| minLength | Number | 否 | 最小长度 | 1 |
| maxLength | Number | 否 | 最大长度 | 50 |
| minValue | Number | 否 | 最小值 | 0 |
| maxValue | Number | 否 | 最大值 | 1000 |
| pattern | String | 否 | 正则表达式 | ^[a-zA-Z0-9]+$ |
| message | String | 否 | 错误提示信息 | 请输入有效的设备名称 | 